
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>File Query App</title>
    <script src="{{ url_for('static', filename='functionality.js') }}"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <h1>CrIS Data Query App</h1>
    <div id="Header_Message">
        If using CrIS Radiances keep in mind that the data is only available for <br> November 22 2022 - October 2023. Some days not available.<br> 
        <a href = "https://noaa-jpss.s3.amazonaws.com/index.html#NOAA20/SOUNDINGS/NOAA20_NUCAPS-CCR/">See available days</a>.
        <p>One file for aresol depth represents an entire day.</p>
        <p>Note: estimated time is calculated using files processed and time elasped, <br>time may be inaccurate at the start</p>
    </div>
    <form id="query-form">
        <label for="year">Year:</label>
        <input type="number" id="year" name="year" required><br>
        <label for="month">Month:</label>
        <input type="number" id="month" name="month" required><br>
        <label for="day">Day:</label>
        <input type="number" id="day" name="day" required><br>
        <label for="Datasets">Chose a dataset:</label>

        <select name="Datasets" id="Datasets">
            <option value="cris_radiances">CrIS Radiances</option>
            <option value="aresol_depth">Aresol Depth</option>
        </select><br>

        <label for="lat_min">Lat min:</label>
        <input type="number" id="lat_min" name="lat_min" value="50" min="-90" max="90"><br>
        <label for="lat_max">Lat max:</label>
        <input type="number" id="lat_max" name="lat_max" value="75" min="-90" max="90"><br>
        <label for="long_min">Long min:</label>
        <input type="number" id="long_min" name="long_min" value="-179" min="-180" max="180"><br>
        <label for="long_max">Long max:</label>
        <input type="number" id="long_max" name="long_max" value="-140" min="-180" max="180"><br>

        <button type="button" id="start-button" onclick="startProcessing()">Start Processing</button>
    </form>
    <button type="button" id="stop-button" onclick="stopProcessing()">Stop Query</button>
    <button onclick="downloadAllFilesAsZip()">Download All Files as ZIP</button>
    <button type="button" onclick="generateMap()">Generate Map</button>
    <h2 id="counter">Files Left: 0.  Files in range: 0</h2>
    <h2 id="time_spent">Elsaped time: --:--</h2>
    <h2 id="time_left">Estimated time remaining: --:--</h2>
    <textarea id="results" rows="10" cols="50" readonly></textarea> 
    <div id="map">
        <img id="Map_USA" src="{{ url_for('static', filename='Static_map.png') }}" alt="Map Image">
    </div>
    <div id="loading">
        <p>Map loading...</p>
       <img src="{{ url_for('static', filename='loading.gif') }}" alt="Loading..." />
    </div> 
</body>
</html>
